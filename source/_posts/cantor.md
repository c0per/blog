---
title: 康托展开
date: 2018-02-15 22:58:18
tags:
- 算法讲解
- 康托展开
categories:
- 数学
- 康托展开
---

# 康托展开

## 算法简介

康托展开是一个全排列到整数的映射。

若整数X为一个由全排列构成的整数(如$4231$，$614253$，而$223$，$134$就不行)，则可以将$X$展开成如下形式：

<!-- more -->

$X = a_n*(n-1)! + a_{n-1}*(n-2)! + \cdots + a_1*0!$

**$a[i]​$为$X​$的第$i​$位数在未出现的元素中的大小排名。**

所得的值为$X​$在其全排列中从小到大的排名。

比如，$132​$在$1,2,3​$的全排列中排第$2​$​位。

同时，在知道$X​$的情况下也可以算出原来的整数，即康托展开的逆运算。

比如，在$1,2,3​$的全排列中排第$2​$位的是整数$123​$。

## 核心代码

```c++
int num[1001]={0,1,3,2};//按位存放整数X
int fac[1001]={1,1,2,6,24,120,720,5040,40320,362880};//阶乘
void cantor()
{
    int cnt,X=0;
    for(int i=1;i<=len;++i)
    {
        cnt=0;
        for(int j=i+1;j<=len;++j)
            if(num[j]<num[i])
                ++cnt;
        X+=cnt*fac[len-i];
    }
    return X;
}
void cantor_reverse(int X)
{
    //会补的，马上就学QAQ
}
```
